<div class="e-create-customer-table">
  <app-navbar></app-navbar>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-lg-6"></div>
      <div class="col-12 col-lg-6 d-flex justify-content-end p-0">
        <app-user-info></app-user-info>
      </div>
    </div>
  </div>
  <app-main-layout [layoutTitle]="'Configuration Product'">
    <div class="e-customer-content">
      <ng-template ngFor let-offer [ngForOf]="basket">
        <ng-template ngFor let-product [ngForOf]="offer.products">
          <div *ngIf="isTypeProduct(product, 'adsl')" class="m-5">
            <div class="e-configuration-product-container">
              <div class="e-configuritaion-product-info p-2">
                <div class="row">
                  <div class="col-2">
                    <span>Prod Offer ID : </span>
                  </div>
                  <div class="col-10">
                    <span>{{ offer.id }}</span>
                  </div>
                  <div class="col-2">
                    <span>Prod Offer Name : </span>
                  </div>
                  <div class="col-10">
                    <span>{{ offer.name }}</span>
                  </div>
                </div>
              </div>
              <div class="e-configuration-product-form">
                <div class="row p-4">
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >PSTN no :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'pstnNo')
                        "
                        (change)="
                          handleConfigInput($event, offer, product, 'pstnNo')
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >Bandwidth :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'bandwidth')
                        "
                        (change)="
                          handleConfigInput($event, offer, product, 'bandwidth')
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >XDSL Password :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(
                            offer,
                            product,
                            'xdslPassword'
                          )
                        "
                        (change)="
                          handleConfigInput(
                            $event,
                            offer,
                            product,
                            'xdslPassword'
                          )
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >XDSL User Name :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(
                            offer,
                            product,
                            'xdslUserName'
                          )
                        "
                        (change)="
                          handleConfigInput(
                            $event,
                            offer,
                            product,
                            'xdslUserName'
                          )
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >XDSL no :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'xdslNo')
                        "
                        (change)="
                          handleConfigInput($event, offer, product, 'xdslNo')
                        "
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="isTypeProduct(product, 'modem')" class="m-5">
            <div class="e-configuration-product-container">
              <div class="e-configuritaion-product-info p-2">
                <div class="row">
                  <div class="col-2">
                    <span>Prod Offer ID : </span>
                  </div>
                  <div class="col-10">
                    <span>{{ offer.id }}</span>
                  </div>
                  <div class="col-2">
                    <span>Prod Offer Name : </span>
                  </div>
                  <div class="col-10">
                    <span>{{ offer.name }}</span>
                  </div>
                </div>
              </div>
              <div class="e-configuration-product-form">
                <div class="row p-4">
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >Modem Brand :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'modemBrand')
                        "
                        (change)="
                          handleConfigInput(
                            $event,
                            offer,
                            product,
                            'modemBrand'
                          )
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >Modem Model :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'modemModel')
                        "
                        (change)="
                          handleConfigInput(
                            $event,
                            offer,
                            product,
                            'modemModel'
                          )
                        "
                      />
                    </div>
                  </div>
                  <div class="col-4 d-flex"></div>
                  <div class="col-4 d-flex">
                    <div class="col-6">
                      <label class="e-confirugration-product-label"
                        >Modem Sn :</label
                      >
                    </div>
                    <div class="col-6">
                      <input
                        type="text"
                        etiyaInput="configuration-product"
                        [value]="
                          getConfigValueOfProduct(offer, product, 'modemSn')
                        "
                        (change)="
                          handleConfigInput($event, offer, product, 'modemSn')
                        "
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </ng-template>

      <div class="d-flex justify-content-start customer-title mb-5">
        <app-info-title [infoTitle]="'Address Info'"></app-info-title>
      </div>
      <div class="d-flex justify-content-center align-items-center m-3">
        <div class="e-customer-content1">
          <div>
            <div class="row w-100">
              <table class="e-table table table-bordered table-hidden">
                <thead>
                  <tr class="table-title">
                    <th>City</th>
                    <th>Street Name</th>
                    <th>House/Flat Number</th>
                    <th>Address Description</th>
                  </tr>
                </thead>
                <tbody class="table-body">
                  <tr
                    *ngIf="
                      !billingAdress || billingAdress.length == 0;
                      else customerAddressList
                    "
                  >
                    <th>Null</th>
                    <td>Null</td>
                    <td>Null</td>
                    <td>Null</td>
                  </tr>
                  <ng-template #customerAddressList>
                    <tr *ngFor="let billingadr of billingAdress">
                      <th style="display: flex">
                        <!-- <div>
                          <button etiyaButton="edit"></button>
                        </div> -->
                        <div style="margin-left: 65px">
                          {{ billingadr.city.name }}
                        </div>
                      </th>
                      <td>{{ billingadr.street }}</td>
                      <td>{{ billingadr.flatNumber }}</td>
                      <td>{{ billingadr.description }}</td>
                    </tr>
                  </ng-template>
                </tbody>
              </table>
            </div>
            <button etiyaButton="new-address" >
              <img src="../../../../assets/img/add_new.png" alt="" />Add New
              Address
            </button>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <div class="row m-0 w-100">
          <div class="col-12 col-lg-6 d-flex justify-content-lg-start">
            <button
              etiyaButton="clear"
              [routerLink]="
                '/dashboard/customers/' +
                selectedCustomerId +
                '/offer-selection/' +
                billingAccountId
              "
            >
              Previous
            </button>
          </div>
          <div class="col-12 col-lg-6 d-flex justify-content-lg-end">
            <button
              etiyaButton="clear"
              [routerLink]="
                '/dashboard/customers/' +
                selectedCustomerId +
                '/submit-order/' +
                billingAccountId
              "
            >
              NEXT
            </button>
          </div>
        </div>
      </div>
    </div>
  </app-main-layout>
</div>
